(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const G={logFunction:console.log},N=(...o)=>{G.logFunction("INF: ",...o)},b=(...o)=>{G.logFunction("TRC: ",...o)},D=(...o)=>{G.logFunction("DBG: ",...o)},l=(...o)=>{G.logFunction("DBG: ",...o)},ze=(...o)=>{G.logFunction("WRN: ",...o)},I=(...o)=>{console.error("ERR: ",...o)},O=[],Te=()=>O.push([]),Pe=()=>O.pop();class C{constructor(e,t){this.name=e,this.initial=t,this.listeners=[],this.value=t}get(){var e,t;if(O.length>0){const n=this;((e=O.at(-1))==null?void 0:e.indexOf(n))===-1&&((t=O.at(-1))==null||t.push(n))}return this.value}set(e){(e!==this.value||!Object.is(e,this.value))&&(this.value=e,this.update())}update(){l(`Updating property ${this.toString()} to`,this.value),this.listeners.forEach(e=>e(this.value,this))}onChange(e){return this.listeners.push(e),this}reload(){this.set(this.initial)}toString(){return`${this.name}{${this.value}}`}valueOf(){return this.get()}}class ae extends C{dec(e=1){this.set(this.get()-e)}inc(e=1){this.set(this.get()+e)}}class Ae extends C{enable(){this.set(!0)}disable(){this.set(!1)}toggle(){this.set(!this.get())}}class Je extends C{constructor(e,t){super(e,t),this.name=e,this.length=new ae(e+"_length",t.length)}put(e,t){this.get()[e]=t,this.update()}push(e){this.get().push(e),this.length.inc(),this.update()}pop(){if(this.length.get()>0){const e=this.get().pop();return this.length.dec(),this.update(),e}}insert(e,t){this.get().splice(e,0,t),this.length.inc(),this.update()}clear(){this.get().length=0,this.length.set(0)}}class Ye extends C{constructor(e,t,n){Te(),super(e,t(...n||[])),this.updater=t,this.args=n;const s=Pe();s==null||s.forEach(a=>a.onChange(()=>this.set()))}set(){const e=this.updater(...this.args||[]);l(`Updating dependent property ${this.toString()} to`,e),super.set(e)}get(){return super.get(),this.updater(...this.args||[])}}function oe(o,e){const t={get(n,s){const a=o[s];return typeof a=="object"&&a!==null?oe(a,e):a},set(n,s,a){return typeof a=="object"&&a!==null?n[s]=oe(a,e):n[s]=a,e(),!0}};return new Proxy(o,t)}class je extends C{constructor(e,t){super(e,oe(t,()=>this.update())),this.name=e}get(){return super.get()}}class re{constructor(e=""){this.prefix=e}registerProperty(e){return this.loadProperty(e),e.onChange(()=>this.saveProperty(e)),e}saveProperty(e){D(`Saving property ${e} to LocalStorage`),e.get()===null||e.get()===void 0?localStorage.removeItem(this.getPropertyName(e)):localStorage.setItem(this.getPropertyName(e),JSON.stringify(e.get()))}loadProperty(e){const t=this.getProperty(e);t!==null&&e.set(t)}getProperty(e){D(`Trying to load property ${e} from LocalStorage`);const t=localStorage.getItem(this.getPropertyName(e));return t===null||t==="undefined"?null:(D(`Found value for ${e.name} = ${t}`),JSON.parse(t))}getPropertyName(e){return`${this.prefix}:${e.name}`}}class h{constructor(e){this.routes=e,addEventListener("popstate",t=>{const n=h.extractPath(document.location.href);N(`Popstate: location: ${n}, state: ${JSON.stringify(t.state)}`),this.matchRoutes(n)})}static extractPath(e){const t=e.indexOf("#");if(t===-1)return"/";const n=e.indexOf("?",t);return e.slice(t+1,n!==-1?n:e.length+1)}initNavigation(){var t;const e=new re("router_");this.currentPath=e.registerProperty(new C("currentPath","/")),h.navigateTo((t=this.currentPath)==null?void 0:t.get())}matchRoutes(e){var t;N(`Matching routes for "${e}"`),(t=this.currentPath)==null||t.set(e);for(const n of this.routes){const s=n.match(e);if(s!==null)return N(`Found route "${n.routePath}" for "${e}"`),n.render(...s)}}static getRouter(...e){return h.router||(h.router=new h(e)),h.router}static clearRouter(){delete h.router}static navigateTo(e,t=!1){const n=`${window.location.origin}${window.location.pathname}#${e}`;N(`Updating "window" path to ${n}`),t?history.replaceState({},"",n):history.pushState({},"",n),h.getRouter().matchRoutes(e)}}class Ie{constructor(e,t){this.page=e,this.routeString=t}get routePath(){return this.routeString}render(...e){var t;N(`Rendering page for route "${this.routePath}" with parameters: [${e}]`),(t=this.page)==null||t.render(...e)}}class Qe extends Ie{constructor(e){super(e,"default-route"),this.page=e}match(){return[]}render(...e){this.page.render(...e)}}class R extends Ie{constructor(e,t){super(t,e),this.regex=R.makeRouteRegExp(e),N(`Initializing RegExpRouter{${e}} with expression ${this.regex}`)}match(e){const t=e.match(this.regex);return t===null?null:t.slice(1).flatMap(n=>n.split("/"))}static makeRouteRegExp(e){return e=e.replace(/\[int\]/g,"([0-9]+)"),e=e.replace(/\[word\]/g,"([a-zA-Z]+)"),e=e.replace(/\[string\]/g,"([a-zA-Z0-9\\-\\_]+)"),e=e.replace(/\[path\]/g,"([^\\s\\?\\#]+)"),new RegExp(`^${e}$`,"i")}}const ie=""+new URL("background-y5xC6JWk.jpg",import.meta.url).href,_=class _{constructor(e,t){this.renderPage=e,this.pageTitle=t}render(...e){if(document.getElementById(_.rootId)===null){const n=document.createElement("div");n.id=_.rootId,document.body.appendChild(n)}setTimeout(()=>{var n;document.getElementById(_.rootId).innerHTML="",(n=document.getElementById(_.rootId))==null||n.appendChild(this.renderPage(...e).render(!1))});const t=document.getElementById("page-title");t&&this.pageTitle&&(t.innerText=this.pageTitle)}};_.rootId="app-root";let M=_,Xe=0;const g=(o="")=>`${o}_${Xe++}`;class F{}class et extends F{constructor(e,t,n,s=""){super(),this.onLoading=t,this.name=s,this._state="loading",this.name||(this.name=g("AsynchronousComponent")),e().then(a=>{var i;this._state="complete",b(`Completed loading component ${this}.`);const r=a.render(!1);this._node&&((i=this._node.parentElement)==null||i.replaceChild(r,this._node)),this._node=r}).catch(a=>{var i;this._state="error",ze(`Failed load component ${this}.`);const r=n(a).render(!1);this._node&&((i=this._node.parentElement)==null||i.replaceChild(r,this._node)),this._node=r})}render(){if(this._node)return b(`Updating component ${this}, no re-creating.`),this._node;b(`Recreating component ${this}`);const e=this.onLoading().render(!1);return this._node=e,this._node}toString(){return`AsynchronousComponent[${this.name}][${this._state}]`}getNode(){return this._node}}class Ee extends F{constructor(e){super(),this.text=e,this._node=document.createTextNode(this.text)}render(){return this._node}toString(){return`TextComponent[${this.text}]`}getNode(){return this._node}}class Le extends F{constructor(e,t=null,n){super(),this.renderer=e,this.name=t,this.args=n,this.name||(this.name=g("FunctionalComponent")),Te(),b(`Creating component ${this}`),this._node=this.render();const s=Pe();s==null||s.forEach(a=>a.onChange(()=>{this.render(!0,this)}))}render(e=!1,t){var s;if(this!==t&&e&&this._node)return b(`Updating component ${this}, no re-creating.`),this._node;b(`Recreating component ${this}`);const n=this.renderer(...this.args||[]).render(e,t);return this._node&&((s=this._node.parentElement)==null||s.replaceChild(n,this._node)),this._node=n,this._node}toString(){return`FunctionalComponent[${this.name}]`}getNode(){return this._node}}class tt extends F{constructor(e,t,n,s=null,a){super(),this.container=n,this.name=s,this._components=[],this.name||(this.name=g("ListComponent")),this._container=n.render(!1);const r=d=>new Le(t,s+"_element",[d,...a||[]]),i=d=>{b(`Received Push ${d} on ${this}`);const u=r(d);this._components.push(u),this._container.appendChild(u.render(!1))};e.onInsert((d,u)=>{var A;if(b(`Received Insert ${u} ${d} on ${this}`),u>=this._components.length){i(d);return}const x=r(d),w=x.render(!1),P=(A=this._components[u])==null?void 0:A.getNode();P!==void 0&&this._container.insertBefore(w,P),this._components.splice(u,0,x)}),e.onRemove(d=>{var x;b(`Received Remove ${d} on ${this}`);const u=(x=this._components[d])==null?void 0:x.getNode();u&&this._container.removeChild(u),this._components.splice(d,1)}),e.onPush(i),e.forEach(i)}render(){return this._container}getNode(){return this._container}toString(){return`ListComponent[${this.name}]`}getContainer(){return this.container}}class B extends F{constructor(...e){super(),this._tag="div",this._classList=[],this._attributes={},this._styles={},this._children=[],this._handlers={},this._prevToggledClasses={},this.renderListeners=[],this.pVisible=null,this.add(...e)}list(e,t,n,s=null){return new tt(e,t,this,s,n)}propClass(e,t){const n=g(e.name);e.onChange(a=>{var i,d;if(!this._node)return;const r=t(a);(i=this._node)==null||i.classList.remove(...this._prevToggledClasses[n]),(d=this._node)==null||d.classList.add(...r),this._prevToggledClasses[n]=typeof r=="string"?[r]:r});const s=t(e.get());return this._prevToggledClasses[n]=typeof s=="string"?[s]:s,this._classList.push(...s),this}propAttr(e,t,n){return e.onChange(s=>{this._node?this._node.setAttribute(t,n(s)):this.attr(t,n(s))}),this}if(e,t,n){return e?t(this):n&&n(this),this}on(e,t,n=!0,s=!0){const a=r=>(n&&r.preventDefault(),s&&r.stopPropagation(),t(r),n);return this._handlers[e]===void 0&&(this._handlers[e]=[]),this._handlers[e].push(a),this}onClick(e,t=!0,n=!1){return this.on("click",e,t,n),this}onRClick(e,t=!0,n=!1){return this.on("contextmenu",e,t,n),this}onInput(e,t=!1,n=!1){return this.on("input",e,t,n),this}onInputValue(e,t=!1,n=!1){return this.on("input",s=>e(s.target.value),t,n),this}onChange(e,t=!1,n=!1){return this.on("change",e,t,n),this}onSubmit(e,t=!0,n=!1){return this.on("submit",e,t,n),this}onKeypress(e,t=!1,n=!1){return this.on("keydown",s=>e(s.key),t,n),this}add(...e){return this._children.push(...e),this}text(e){return this._children.push(new Ee(e)),this}cls(...e){return this._classList.push(...e),this}tag(e){return this._tag=e,this}id(e){return this._id=e,this}attr(e,t=""){return this._attributes[e]=t,this}style(e,t=""){return this._styles[e]=t,this}render(e=!1,t){b(`Rendering ${this}`);const n=document.createElement(this._tag);return this._id&&(n.id=this._id),this._classList.length&&n.classList.add(...this._classList),this._attributes&&Object.entries(this._attributes).forEach(([s,a])=>{n.setAttribute(s,a)}),this._styles&&Object.entries(this._styles).forEach(([s,a])=>{n.style.setProperty(s,a)}),this._handlers&&Object.entries(this._handlers).forEach(([s,a])=>{a.forEach(r=>n.addEventListener(s,r))}),this._children&&this._children.forEach(s=>{n.appendChild(s.render(e,t))}),this._node=n,setTimeout(()=>this.renderListeners.forEach(s=>this._node?s(this._node):""),10),n}clone(){const e=new B;return this._id&&e.id(this._id),this._classList&&e.cls(...this._classList),this._attributes&&(e._attributes={...this._attributes}),this._styles&&(e._styles={...this._styles}),this._handlers&&(e._handlers={},Object.getOwnPropertyNames(this._handlers).forEach(t=>{e._handlers[t]=[...this._handlers[t]]})),e}toString(){return`HTMLComponent tag[${this._tag}], class[${this._classList}]`}propNode(e,t){return e.onChange(n=>{this._node&&t(this._node,n)}),this}applyStyle(e,t=""){return this._node&&this._node.style.setProperty(e,t),this}applyAttr(e,t=""){return this._node&&this._node.setAttribute(e,t),this}getNode(){return this._node}onRender(e){return this.renderListeners.push(e),this}static isVisible(e){const t=e.getBoundingClientRect(),n=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)}onVisibilityChange(e){if(!this.pVisible){this.pVisible=new Ae((this._id||"")+"pVisible",!1);const t=()=>{var s;const n=this.getNode();n&&((s=this.pVisible)==null||s.set(B.isVisible(n)))};window.addEventListener("load",t,!1),window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1),this.onRender(n=>{var s,a,r;(s=n.parentElement)==null||s.addEventListener("load",t,!1),(a=n.parentElement)==null||a.addEventListener("scroll",t,!1),(r=n.parentElement)==null||r.addEventListener("resize",t,!1),t()})}this.pVisible.onChange(e)}onAppear(e){return this.onVisibilityChange(t=>{t&&e()}),this}onDisappear(e){return this.onVisibilityChange(t=>{t||e()}),this}}function nt(o,e){return e||(e=g("Property")),new C(e,o)}function ot(o,e){return e||(e=g("PInteger")),new ae(e,o)}function st(o,e){return e||(e=g("PBoolean")),new Ae(e,o)}function at(o,e){return o||(o=[]),e||(e=g("PBoolean")),new Je(e,o)}function rt(o,e,t){return t||(t=g("DependentProperty")),new Ye(t,o,e)}function it(o,e){return e||(e=g("PObject")),new je(e,o)}const ct=()=>new B().tag("div"),dt=o=>new B().tag("div").text(`${o.name}: ${o.message}`);function lt(o,e=ct,t=dt,n=""){return new et(o,e,t,n)}function ut(o,e,t){return t||(t=g("FunctionalComponent")),new Le(o,t,e)}function Ne(o){return new Ee(`${o}`)}function Re(o){return new B().tag(o)}function ht(o){const e=(t=[],n=[],s)=>{const a=(...r)=>{const i=Re(o).add(...r.map(d=>d instanceof F?d:Ne(d))).cls(...t);for(const[d,u]of n)i.attr(d,u);return s&&i.id(s),i};return a.cls=(...r)=>e([...t,...r],n),a.attr=(r,i="")=>e(t,[...n,[r,`${i}`]]),a.id=r=>e(t,n,r),a};return e()}const f={property:nt,pinteger:ot,pboolean:st,plist:at,pfunc:rt,pobject:it,asynchronous:lt,functional:ut,text:Ne,html:ht,htmlTag:Re},{html:c,htmlTag:ce}=f,de=c("div"),mt=()=>de().style("display","none").style("height","0px").style("width","0px"),gt=()=>de().cls("tmp"),pt=c("main"),ft=c("nav"),$t=c("header"),xt=c("footer"),bt=c("h1"),wt=c("h2"),yt=c("h3"),Ct=c("h4"),St=c("h5"),kt=c("h6"),_t=c("p"),vt=c("em"),Tt=c("b"),Pt=c("br"),At=c("span"),It=(o,...e)=>c("a")(...e).cls("link","link-external").attr("href",o),Et=(o,...e)=>c("a")(...e).cls("link","link-local").attr("href",o).onClick(()=>h.navigateTo(o),!0),Lt=o=>ce("img").attr("src",o).cls("image"),Nt=o=>ce("img").attr("src",o).cls("icon"),Rt=o=>ce("svg").onRender(e=>e.innerHTML=o),Mt=c("button"),Bt=c("form"),Ft=c("label"),Vt=c("input"),Dt=c("textarea"),Ot=c("select"),Ht=c("option"),Gt=c("table"),Ut=c("thead"),Zt=c("tbody"),qt=c("tfoot"),Kt=c("tr"),Wt=c("th"),zt=c("td"),Jt=c("li"),Yt=c("ol"),jt=c("ul"),p={a:It,link:Et,p:_t,div:de,span:At,button:Mt,main:pt,nav:ft,form:Bt,label:Ft,input:Vt,textArea:Dt,em:vt,b:Tt,img:Lt,iconSvg:Nt,h1:bt,h2:wt,h3:yt,h4:Ct,h5:St,h6:kt,tmp:gt,hidden:mt,select:Ot,option:Ht,br:Pt,svg:Rt,table:Gt,thead:Ut,tbody:Zt,tfoot:qt,tr:Kt,th:Wt,td:zt,li:Jt,ol:Yt,ul:jt,header:$t,footer:xt},{div:Qt}=p,k=Qt.cls("container"),Me=k.cls("container-components-center"),Xt=Me.cls("container-components-round-edges"),en=k.cls("container-components-modal","container-components-modal-center"),tn=k.cls("container-components-modal","container-components-modal-column"),nn=k.cls("container-components-modal","container-components-modal-row"),on=k.cls("container-components-outer"),sn=k.cls("container-components-max-width"),an=o=>(...e)=>k.cls("container-components-flex-row")(...e).if(!!(o&&o.gap),t=>t.style("gap",`${o==null?void 0:o.gap}px`)).if(!!(o&&o.padding),t=>t.style("padding",`${o==null?void 0:o.padding}px`)),rn=o=>(...e)=>k.cls("container-components-flex-column")(...e).if(!!(o&&o.gap),t=>t.style("gap",`${o==null?void 0:o.gap}px`)).if(!!(o&&o.padding),t=>t.style("padding",`${o==null?void 0:o.padding}px`)),v={containerCenter:Me,containerCenterRoundEdges:Xt,containerModalCenter:en,containerModalColumn:tn,containerModalRow:nn,containerOuter:on,containerMaxWidth:sn,containerFlexRow:an,containerFlexColumn:rn},cn=()=>({VITE_CTP_PROJECT_KEY:"rss-ecommerce-2024",VITE_CTP_AUTH_HOST:"auth.europe-west1.gcp.commercetools.com",VITE_CTP_API_HOST:"api.europe-west1.gcp.commercetools.com",VITE_CTP_CLIENT_SECRET:"51fa87AZZQlxceEOdtQ84zH-iinBhILD",VITE_CTP_CLIENT_ID:"1vDqQrGeZpU2UxZIzScIiKmM",VITE_CTP_SCOPES:"view_published_products:rss-ecommerce-2024 create_anonymous_token:rss-ecommerce-2024 manage_my_profile:rss-ecommerce-2024 view_categories:rss-ecommerce-2024 manage_my_business_units:rss-ecommerce-2024 manage_my_payments:rss-ecommerce-2024 manage_my_quote_requests:rss-ecommerce-2024 manage_my_orders:rss-ecommerce-2024 manage_my_quotes:rss-ecommerce-2024 manage_my_shopping_lists:rss-ecommerce-2024 manage_customers:rss-ecommerce-2024"}),dn=o=>{for(const[e,t]of Object.entries(o))if(t===void 0)throw new Error(`Missing key ${e} in dotenv`);return o},S=dn(cn()),$=class ${static getOAuthURL(e=""){return`https://${S.VITE_CTP_AUTH_HOST}/oauth/${S.VITE_CTP_PROJECT_KEY}/${e}`}static getAPIURL(e=""){return`https://${S.VITE_CTP_API_HOST}/${S.VITE_CTP_PROJECT_KEY}/${e}`}static makeBearerAuthHeader(e){return{Authorization:`Bearer ${e}`}}static makeBasicAuthHeader(){return{Authorization:`Basic ${btoa(`${S.VITE_CTP_CLIENT_ID}:${S.VITE_CTP_CLIENT_SECRET}`)}`}}static async makeRequestJSON(e,t,n={},s){const a=s?typeof s=="object"?JSON.stringify(s):s:void 0;try{b(`Sending a new request ${e}:${t}, ${s}`);const r=await fetch(e,{method:t,headers:n,body:a});return r.ok?{ok:!0,body:await r.json()}:{ok:!1,errors:(await r.json()).errors}}catch(r){return{ok:!1,errors:[{code:"Fetch Error",message:`Request Failed: ${r}`}]}}}};$.formDataHeaders={"Content-Type":"application/x-www-form-urlencoded"},$.formJSONHeaders={"Content-Type":"application/json"},$.post=async(e,t={},n)=>$.makeRequestJSON(e,"POST",t,n),$.get=async(e,t={},n)=>$.makeRequestJSON(e,"GET",t,n),$.put=async(e,t={},n)=>$.makeRequestJSON(e,"PUT",t,n),$.delete=async(e,t={},n)=>$.makeRequestJSON(e,"DELETE",t,n);let m=$;class ln{constructor(e=f.property(null)){this._tokenData=e,new re("AuthConnector").registerProperty(e)}isLoggedIn(){const e=this._tokenData.get();return e!==null&&!e.isAnonymous}getAuthBearerHeaders(){const e=this._tokenData.get();if(!e)throw new Error("Access token for sign in was not initialized.");return m.makeBearerAuthHeader(e.accessToken)}getAuthBasicHeaders(){return m.makeBasicAuthHeader()}configureTokenData(e,t=!1){this._tokenData.set({accessToken:e.access_token,refreshToken:e.refresh_token,expirationDateMS:Date.now()+e.expires_in*1e3,isAnonymous:t})}async requestTokenRefresh(){const e=this._tokenData.get();if(!e)throw new Error("Access token for refresh  was not initialized.");if(!e.refreshToken){I("Failed to find refreshToken!");return}const t=await m.post(m.getOAuthURL("customers/token"),{...this.getAuthBasicHeaders(),...m.formDataHeaders},`grant_type=refresh_token&refresh_token=${e.refreshToken}`);t.ok?this.configureTokenData(t.body):I("Failed to refresh token data",t.errors)}async requestLoginToken(e,t){const n=await m.post(m.getOAuthURL("customers/token"),{...this.getAuthBasicHeaders(),...m.formDataHeaders},`grant_type=password&username=${encodeURIComponent(e)}&password=${encodeURIComponent(t)}&scope=${S.VITE_CTP_SCOPES}`);return n.ok||I("Failed to request token data",n.errors),n}async requestAnonymousToken(){const e=await m.post(m.getOAuthURL("anonymous/token"),{...this.getAuthBasicHeaders(),...m.formDataHeaders},`grant_type=client_credentials&scope=${S.VITE_CTP_SCOPES}`);return e.ok||I("Failed to request anonymous token data",e.errors),e}async requestLoginSignIn(e,t){if(!this._tokenData.get())throw new Error("Access token for sign in was not initialized.");const s=await m.post(m.getAPIURL("me/login"),{...this.getAuthBearerHeaders(),...m.formJSONHeaders},{email:e,password:t});return s.ok||I("Failed to request token data",s.errors),s}async requestLogout(){this._tokenData.set(null)}async requestSignUp(e){if(!this._tokenData.get())throw new Error("Access token for sign up was not initialized.");const n=await m.post(m.getAPIURL("me/signup"),{...this.getAuthBearerHeaders(),...m.formJSONHeaders},e);return n.ok||I("Failed to request token data",n.errors),n}async runSignInWorkflow(e,t){l("Trying to run login workflow.");const n=this._tokenData.get();if(!n||n.isAnonymous){const a=await this.requestLoginToken(e,t);if(!a.ok)return a;this.configureTokenData(a.body)}else n.expirationDateMS<Date.now()&&n.refreshToken&&(l("Token already exists, but it is outdated."),await this.requestTokenRefresh());const s=await this.requestLoginSignIn(e,t);return s.ok?l("Singed in successfully",s.body):l("Sing In Failed",s.errors),s}async runReSignInWorkflow(){l("Trying to run re-login workflow.");const e=this._tokenData.get();if(!e||e.isAnonymous)throw new Error("Access token for sign in was not initialized.");if(e.expirationDateMS<Date.now())return l("Token already exists, but it is outdated."),this.requestTokenRefresh()}async runSignUpWorkflow(e){l("Trying to run sign up workflow.");const t=this._tokenData.get();if(!t||!t.isAnonymous){const i=await this.requestAnonymousToken();if(!i.ok)return i;this.configureTokenData(i.body,!0)}else t.expirationDateMS<Date.now()&&(l("Token already exists, but it is outdated."),await this.requestTokenRefresh());const n={...e.user,addresses:[e.billingAddress],defaultBillingAddress:0,defaultShippingAddress:0};e.sameShippingAddress||(n.addresses.push(e.shippingAddress),n.defaultShippingAddress=1);const s=await this.requestSignUp(n);if(s.ok)l("Received signup result",s.body);else return l("Sing Up Failed",s.errors),s;const{email:a,password:r}=e.user;return this.runSignInWorkflow(a,r)}}const E=new ln;class un{constructor(){this.listeners=new Map}emit(e,t){var n;l(`Emitting event "${e}: `,t),this.listeners.has(e)&&((n=this.listeners.get(e))==null||n.forEach(s=>{s(t)}))}on(e,t){var n;l(`Adding new event listener on "${e}"`),this.listeners.has(e)||this.listeners.set(e,[]),(n=this.listeners.get(e))==null||n.push(t)}clearListeners(e){l(`Removing all connected listeners from ${e}`),this.listeners.set(e,[])}clearAllListeners(){l("Removing all connected listeners"),this.listeners.clear()}}const j=new un;class hn{constructor(e,t){this.name=e,this.insertHandlers=[],this.pushHandlers=[],this.removeHandlers=[],this._properties=[],this.pLength=new ae("pLength",this._properties.length),t&&t.forEach(n=>this.push(n))}get length(){return this._properties.length}onInsert(e){this.insertHandlers.push(e)}onPush(e){this.pushHandlers.push(e)}onRemove(e){this.removeHandlers.push(e)}getProp(e){return this._properties[e]}get(e){return this._properties[e].get()}setProp(e,t){this._properties[e]=t}set(e,t){this._properties[e].set(t)}insert(e,t){const n=new C("",t);return this._properties.splice(e,0,n),this.pLength.set(this._properties.length),this.insertHandlers.forEach(s=>s(n,e)),n}push(e){const t=new C(`${this.name}_listProperty`,e);return this._properties.push(t),this.pLength.set(this._properties.length),this.pushHandlers.forEach(n=>n(t,this._properties.length-1)),t}remove(e){this.removeHandlers.forEach(t=>t(e)),this.pLength.set(this._properties.length),this._properties.splice(e,1)}removeByProperty(e){const t=this._properties.indexOf(e);t!==-1&&this.remove(t)}removeByValue(e){const t=this._properties.map(n=>n.get()).indexOf(e);t!==-1&&this.remove(t)}indexOf(e){return this._properties.map(n=>n.get()).indexOf(e)}includes(e){return this.indexOf(e)!==-1}clear(){for(;this.length>0;)this.remove(0)}forEach(e){this._properties.forEach(e)}map(e){return this._properties.map(e)}toString(){return`ObservableList_${this.name}`}filter(e){for(let t=0;t<this._properties.length;t++)e(this._properties[t].get(),t)&&this.remove(t--)}}class le{constructor(){this.notifications=new hn("notifications"),j.on("ERROR",e=>{this.addError(e.message)}),j.on("INFO",e=>{this.addInformation(e.message)}),j.on("SUCCESS",e=>{this.addSuccess(e.message)}),this.notifications.onPush(()=>{this.notifications.length>5?this.removeLastNotification():setTimeout(()=>{this.removeLastNotification()},1e4)})}static getInstance(){return this.instance?this.instance:(this.instance=new le,this.instance)}addError(e){this.notifications.push({type:"ERROR",message:e})}addInformation(e){this.notifications.push({type:"INFO",message:e})}addSuccess(e){this.notifications.push({type:"SUCCESS",message:e})}removeLastNotification(){this.notifications.length!==0&&this.notifications.remove(0)}removeAllNotifications(){for(;this.notifications.length!==0;)this.notifications.remove(0)}}const y=le.getInstance(),{property:mn,pfunc:he}=f;class gn{constructor(){this.userData=mn(null,"customer_data"),this.userIsLoggedIn=he(()=>this.userData.get()!==null,[],"userIsLoggedIn"),this.userName=he(()=>{const t=this.userData.get();return t?this.formatName(t):"Unauthorized"},[],"userName"),l("Initiating AuthContext"),new re("AuthContext").registerProperty(this.userData),E.isLoggedIn()||(l("!authConnector.isLoggedIn()"),this.attemptLogout()),this.userIsLoggedIn.get()||E.isLoggedIn()?(l("this.userIsLoggedIn.get() || authConnector.isLoggedIn()"),E.runReSignInWorkflow().catch(()=>(y.addError("Session expired"),this.attemptLogout(),Promise.resolve()))):this.attemptLogout()}async attemptLogin(e,t){const n=await E.runSignInWorkflow(e,t);return n.ok?(this.userData.set(n.body.customer),y.addSuccess(`Welcome, ${this.userName.get()}!`),Promise.resolve(!0)):(n.errors.forEach(({message:s})=>y.addError(s)),Promise.resolve(!1))}async attemptLogout(){return y.addInformation("Goodbye!"),this.userData.set(null),await E.requestLogout(),Promise.resolve(!0)}async attemptSignUp(e){const t=await E.runSignUpWorkflow(e);return t.ok?(this.userData.set(t.body.customer),y.addSuccess(`Welcome, ${this.userName.get()}!`),Promise.resolve(!0)):(t.errors.forEach(({message:n})=>y.addError(n)),Promise.resolve(!1))}formatName(e){return e.firstName?e.firstName:e.email}}const H=new gn,me=[o=>/^[a-z][a-z ,.'-]*$/i.test(o)?!1:"Must contain at least one character and no special characters or numbers"],pn=[o=>Number.isNaN(Date.parse(o))?"Please, provide a correct date":!1,o=>{const e=Date.now()-Date.parse(o),t=new Date(e);return Math.abs(t.getUTCFullYear()-1970)>=13?!1:"User must be at least 13 years old"}],Be=[o=>/^[A-Za-z0-9\-\@\.]+$/.test(o)?!1:"Email must only contain letters (a-z), digits & symbols (@-.).",o=>o.startsWith(" ")||o.endsWith(" ")?"Email must not contain leading/trailing whitespace":!1,o=>/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(o)?!1:"Email address must be properly formatted (e.g., user@example.com)"],Fe=[o=>o.length<8?"Password must be at least 8 characters long.":!1,o=>/[A-Z]/g.test(o)?!1:"Password must contain at least one uppercase letter (A-Z).",o=>!/[a-z]/g.test(o)&&"Password must contain at least one lowercase letter (a-z).",o=>!/[0-9]/g.test(o)&&"Password must contain at least one digit (0-9).",o=>(o.startsWith(" ")||o.endsWith(" "))&&"Password must not contain leading or trailing whitespace.",o=>/^[A-Za-z0-9\!\@\#\$\%\^\&\*]+$/.test(o)?!1:"Password must only contain letters (a-z), digits and symbols (!@#$%^&*)."],{input:U,div:fn,p:$n,label:ge,button:K,iconSvg:xn,link:Ve,select:bn,option:wn}=p,De=$n.cls("input-components-clue"),se=fn.cls("input-components-input-container"),yn=(o,e)=>{const t=f.pboolean(!1),n=f.property("");return[o.cls("input-components-validated").propClass(t,a=>a?["success"]:["error"]).onInput(a=>{const r=a.target,i=r.value;n.set(i);for(const d of e){const u=d(i,r);if(u&&typeof u=="string"){r.setCustomValidity(u),r.reportValidity(),t.disable();return}}r.setCustomValidity(""),t.enable()}),t,n]},Cn=(o,e,t,n)=>{let s;return n!=null&&n.reverseOrder?s=se(e.id(t).attr("name",(n==null?void 0:n.name)||t).if(!!(n!=null&&n.required),a=>a.attr("required")),ge(o).attr("for",t)):s=se(ge(o).attr("for",t),e.id(t).attr("name",(n==null?void 0:n.name)||t).if(!!(n!=null&&n.required),a=>a.attr("required"))),n!=null&&n.clue&&s.add(De(n==null?void 0:n.clue)),s},Sn=U.cls("input-components-input-text").attr("type","text"),kn=U.cls("input-components-input-text","input-components-input-email").attr("type","email"),_n=U.cls("input-components-input-text","input-components-input-date").attr("type","date"),vn=U.cls("input-components-input-text","input-components-input-password").attr("type","password"),Tn=U.cls("input-components-input-checkbox").attr("type","checkbox"),Pn=o=>bn.cls("input-components-input-select")(...o.map(([e,t])=>wn(t).attr("value",e))),An=K.cls("block-selection","input-components-input-submit").attr("type","submit"),In=K.cls("block-selection","input-components-button","input-components-button-primary","button","button-primary"),En=K.cls("block-selection","input-components-button","input-components-button-secondary","button","button-secondary"),Ln=(o,...e)=>Ve(o,...e).cls("input-components-button","input-components-button-primary","button","button-primary"),Nn=(o,...e)=>Ve(o,...e).cls("input-components-button","input-components-button-secondary","button","button-secondary"),Rn=o=>K(xn(o)).cls("block-selection","input-components-button-icon","button","button-icon"),T={labelled:Cn,validated:yn,inputClue:De,inputContainer:se,inputText:Sn,inputDate:_n,inputEmail:kn,inputPassword:vn,checkboxInput:Tn,selectInput:Pn,submitButton:An,buttonPrimary:In,buttonSecondary:En,buttonIcon:Rn,buttonPrimaryLink:Ln,buttonSecondaryLink:Nn},{form:Mn}=p,{validated:pe,labelled:Q,inputText:Bn,inputPassword:Fn,submitButton:Vn,checkboxInput:Dn}=T,On=()=>{const o=f.pboolean(!1,"show_password"),e=Dn().cls("checkbox-password").onInput(i=>o.set(i.target.checked)),[t,n]=pe(Bn(),Be),[s,a]=pe(Fn().propAttr(o,"type",i=>i?"text":"password"),Fe),r=f.pfunc(()=>n.get()&&a.get());return Mn.cls("login-form")(Q("Email",t,"email",{required:!0}),Q("Password",s,"password",{required:!0,clue:"Use 8 or more characters with a mix of letters, numbers & symbols"}),Q("Show password",e,"show-password",{name:"show password",reverseOrder:!0}).cls("checkbox-container"),Vn("Submit").cls("input-submit").attr("type","submit")).onSubmit(()=>{l("Attempting to submit login form."),r.get()?(l("Attempting to login."),H.attemptLogin(t.getNode().value,s.getNode().value).then(i=>{i&&h.navigateTo("/")})):l("Attempt failed, form is not valid.")})},{div:Hn}=p,Gn=o=>f.functional(()=>Hn(o.get().message).cls("notification-entry","block-selection").propClass(o,e=>{switch(e.type){case"ERROR":return["error"];case"SUCCESS":return["success"];default:return[]}}).onClick(()=>y.notifications.removeByProperty(o))),{containerModalColumn:Un}=v,Oe=()=>Un().cls("notification-container").list(y.notifications,o=>Gn(o)),{footer:Zn}=p,qn=()=>Zn(),He=qn,Kn="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.99998%2011.6666C12.3012%2011.6666%2014.1666%209.80117%2014.1666%207.49998C14.1666%205.19879%2012.3012%203.33331%209.99998%203.33331C7.69879%203.33331%205.83331%205.19879%205.83331%207.49998C5.83331%209.80117%207.69879%2011.6666%209.99998%2011.6666ZM9.99998%2011.6666C6.31808%2011.6666%203.33331%2013.9052%203.33331%2016.6666M9.99998%2011.6666C13.6819%2011.6666%2016.6666%2013.9052%2016.6666%2016.6666'%20stroke='%23807D7E'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",Wn="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.5%203.33331H3.00526C3.85578%203.33331%204.56986%203.97373%204.6621%204.81923L5.3379%2011.0141C5.43014%2011.8596%206.14422%2012.5%206.99474%2012.5H14.205C14.9669%2012.5%2015.6317%2011.9834%2015.82%2011.2452L16.9699%206.7359C17.2387%205.6821%2016.4425%204.65739%2015.355%204.65739H5.5M5.52063%2015.5208H6.14563M5.52063%2016.1458H6.14563M14.6873%2015.5208H15.3123M14.6873%2016.1458H15.3123M6.66667%2015.8333C6.66667%2016.2936%206.29357%2016.6666%205.83333%2016.6666C5.3731%2016.6666%205%2016.2936%205%2015.8333C5%2015.3731%205.3731%2015%205.83333%2015C6.29357%2015%206.66667%2015.3731%206.66667%2015.8333ZM15.8333%2015.8333C15.8333%2016.2936%2015.4602%2016.6666%2015%2016.6666C14.5398%2016.6666%2014.1667%2016.2936%2014.1667%2015.8333C14.1667%2015.3731%2014.5398%2015%2015%2015C15.4602%2015%2015.8333%2015.3731%2015.8333%2015.8333Z'%20stroke='%23807D7E'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",zn=""+new URL("logo-site-327Mve7v.svg",import.meta.url).href,{functional:Jn}=f,{div:fe,nav:Yn,ul:jn,li:X,link:ee,iconSvg:Qn,hidden:Xn}=p,{buttonSecondary:$e,buttonPrimary:eo,buttonIcon:xe}=T,{containerMaxWidth:to,containerFlexRow:be}=v,Ge=()=>{const o=f.pboolean(!1,"menuOpen");return to.cls("navbar")(fe(Qn(zn)).cls("logo-site").onClick(()=>o.toggle()),fe(Yn(jn(X(ee("/","Home").cls("header-link","active-link")),X(ee("/catalog","Catalog").cls("header-link")),X(ee("/about","About us").cls("header-link"))).cls("header-list")),be({gap:20})($e("Sign Up").onClick(()=>h.navigateTo("/login/signup")),eo("Login").onClick(()=>h.navigateTo("/login")),Jn(()=>H.userIsLoggedIn.get()?$e("Logout").onClick(()=>H.attemptLogout().then(e=>{e&&h.navigateTo("/")})):Xn())).cls("navbar-buttons")).cls("header-nav-container"),be({gap:20})(xe(Kn).onClick(()=>h.navigateTo("/user")),xe(Wn).onClick(()=>h.navigateTo("/cart"))).cls("navbar-buttons")).propClass(o,e=>e?["navbar-menu-open"]:[]).tag("header")},{main:no,div:oo,img:so}=p,{containerMaxWidth:ao,containerOuter:ro}=v,ue=o=>(...e)=>ro(Ge(),no.cls("background-image-layout")(oo.cls("background-logo-img-container","block-selection")(so(o).cls("background-logo-img")),ao(...e)),He(),Oe()),{div:io,h2:co,link:lo,h1:uo}=p,{containerCenterRoundEdges:ho}=v,mo=new M(()=>(H.userIsLoggedIn.get()&&(h.navigateTo("/",!0),y.addInformation("You are already logged in.")),ue(ie)(ho.cls("form-container","login-page")(co("Create your unique bouquet").cls("form-header"),uo("Login").cls("form-title"),On(),io("Not registered yet? ",lo("/login/signup","Create an account").cls("link-subtext")).cls("subtext")))),"Login | True Colors"),{h1:go,h2:po,p:fo}=p,{containerFlexColumn:we}=v,{buttonPrimary:$o}=T,ye=new M(()=>ue(ie)(we({gap:90})(we({gap:10})(go("True Colors").cls("util-drop-shadow"),po("Flower salon").cls("util-drop-shadow")),fo("Choose one of the ready-made bouquets or order a unique one that will meet all your wishes").cls("util-drop-shadow"),$o("Go to catalog").cls("util-drop-shadow").onClick(()=>h.navigateTo("/catalog"))).cls("main-page")),"Main | True Colors"),{h1:xo,h2:bo,p:wo}=p,{containerFlexColumn:Ce}=v,{buttonPrimary:yo}=T,Co=new M(()=>ue(ie)(Ce({gap:90})(Ce({gap:10})(xo("404").cls("util-drop-shadow"),bo("Oops! Page not found").cls("util-drop-shadow")),wo("The page you are looking for might have been removed or temporarily unavailable.").cls("util-drop-shadow"),yo("Back to Home").cls("util-drop-shadow").onClick(()=>h.navigateTo("/"))).cls("not-found-page")),"Main | True Colors"),{main:So,h1:ko}=p,{containerMaxWidth:_o,containerOuter:vo}=v,To=o=>(...e)=>vo.cls("minimal-layout-outer-container")(Ge(),ko(o).cls("minimal-layout-header"),So(_o.cls("minimal-layout")(...e)),He(),Oe()),{pboolean:Po,pfunc:Se}=f,{h2:Ao,span:Io,div:Eo}=p,{inputDate:Lo,inputText:te,inputPassword:No,labelled:L,validated:V,checkboxInput:Ro}=T,Mo=Eo.cls("form-block"),Bo=o=>{const e=Po(!1,"show_password"),[t,n,s]=V(te(),me),[a,r,i]=V(te(),me),[d,u,x]=V(te(),Be),[w,P,A]=V(No().propAttr(e,"type",Y=>Y?"text":"password"),Fe),[W,z,J]=V(Lo(),pn),qe=Ro().cls("checkbox-password").onInput(Y=>e.set(Y.target.checked)),Ke=Se(()=>n.get()&&r.get()&&u.get()&&P.get()&&z.get()),We=Se(()=>({firstName:s.get(),lastName:i.get(),email:x.get(),password:A.get(),dateOfBirth:J.get()}));return[Mo(Ao(Io(),o),L("First Name *",t,"first-name",{required:!0}),L("Last Name *",a,"last-name",{required:!0}),L("Date Of Birth *",W,"date",{required:!0}),L("Email *",d,"email",{required:!0}),L("Password *",w,"password",{required:!0}),L("Show password",qe,"show-password",{name:"show password",reverseOrder:!0}).cls("checkbox-container")),Ke,We]},Fo=/^\d{6}$/,Vo=[{code:"AD",name:"Andorra",regex:/^AD\d{3}$/},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia",regex:/^(37)?\d{4}$/},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina",regex:/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/},{code:"AS",name:"American Samoa",regex:/^96799$/},{code:"AT",name:"Austria",regex:/^(?!0)\d{4}$/},{code:"AU",name:"Australia",regex:/^\d{4}$/},{code:"AW",name:"Aruba"},{code:"AX",name:"Åland Islands",regex:/^22\d{3}$/},{code:"AZ",name:"Azerbaijan",regex:/^\d{4}$/},{code:"BA",name:"Bosnia and Herzegovina",regex:/^\d{5}$/},{code:"BB",name:"Barbados",regex:/^(BB\d{5})?$/},{code:"BD",name:"Bangladesh",regex:/^\d{4}$/},{code:"BE",name:"Belgium",regex:/^\d{4}$/},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria",regex:/^\d{4}$/},{code:"BH",name:"Bahrain",regex:/^((1[0-2]|[2-9])\d{2})?$/},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barthélemy"},{code:"BM",name:"Bermuda",regex:/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/},{code:"BN",name:"Brunei Darussalam",regex:/^[A-Z]{2}[ ]?\d{4}$/},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BR",name:"Brazil",regex:/^\d{5}[\-]?\d{3}$/},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus",regex:/^\d{6}$/},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada",regex:/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i},{code:"CC",name:"Cocos (Keeling) Islands",regex:/^6799$/},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland",regex:/^\d{4}$/},{code:"CI",name:"Côte d'Ivoire"},{code:"CK",name:"Cook Islands",regex:/^\d{4}$/},{code:"CL",name:"Chile",regex:/^\d{7}$/},{code:"CM",name:"Cameroon"},{code:"CN",name:"China",regex:/^\d{6}$/},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica",regex:/^(\d{4,5}|\d{3}-\d{4})$/},{code:"CU",name:"Cuba"},{code:"CV",name:"Cabo Verde",regex:/^\d{4}$/},{code:"CW",name:"Curaçao"},{code:"CX",name:"Christmas Island",regex:/^6798$/},{code:"CY",name:"Cyprus",regex:/^\d{4}$/},{code:"CZ",name:"Czechia",regex:/^\d{3}[ ]?\d{2}$/},{code:"DE",name:"Germany",regex:/^\d{5}$/},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark",regex:/^\d{4}$/},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic",regex:/^\d{5}$/},{code:"DZ",name:"Algeria",regex:/^\d{5}$/},{code:"EC",name:"Ecuador",regex:/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/},{code:"EE",name:"Estonia",regex:/^\d{5}$/},{code:"EG",name:"Egypt",regex:/^\d{5}$/},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain",regex:/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/},{code:"ET",name:"Ethiopia",regex:/^\d{4}$/},{code:"FI",name:"Finland",regex:/^(FI-|AX-)?\d{5}$/},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)",regex:/^FIQQ 1ZZ$/},{code:"FM",name:"Micronesia, Federated States of",regex:/^(9694[1-4])([ \-]\d{4})?$/},{code:"FO",name:"Faroe Islands",regex:/^\d{3}$/},{code:"FR",name:"France",regex:/^\d{2}[ ]?\d{3}$/},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom of Great Britain and Northern Ireland",regex:/^[A-Za-z]{1,2}[0-9Rr][0-9A-Za-z]? [0-9][ABD-HJLNP-UW-Zabd-hjlnp-uw-z]{2}$/},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia",regex:/^\d{4}$/},{code:"GF",name:"French Guiana",regex:/^9[78]3\d{2}$/},{code:"GG",name:"Guernsey",regex:/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland",regex:/^39\d{2}$/},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea",regex:/^\d{3}$/},{code:"GP",name:"Guadeloupe",regex:/^9[78][01]\d{2}$/},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece",regex:/^\d{3}[ ]?\d{2}$/},{code:"GS",name:"South Georgia and the South Sandwich Islands",regex:/^SIQQ 1ZZ$/},{code:"GT",name:"Guatemala",regex:/^\d{5}$/},{code:"GU",name:"Guam",regex:/^969[123]\d([ \-]\d{4})?$/},{code:"GW",name:"Guinea-Bissau",regex:/^\d{4}$/},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands",regex:/^\d{4}$/},{code:"HN",name:"Honduras",regex:/^(?:\d{5})?$/},{code:"HR",name:"Croatia",regex:/^(HR-)?\d{5}$/},{code:"HT",name:"Haiti",regex:/^\d{4}$/},{code:"HU",name:"Hungary",regex:/^\d{4}$/},{code:"ID",name:"Indonesia",regex:/^\d{5}$/},{code:"IE",name:"Ireland",regex:/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/},{code:"IL",name:"Israel",regex:/^\d{5,7}$/},{code:"IM",name:"Isle of Man",regex:/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/},{code:"IN",name:"India",regex:/^\d{6}$/},{code:"IO",name:"British Indian Ocean Territory",regex:/^BBND 1ZZ$/},{code:"IQ",name:"Iraq",regex:/^\d{5}$/},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IS",name:"Iceland",regex:/^\d{3}$/},{code:"IT",name:"Italy",regex:/^\d{5}$/},{code:"JE",name:"Jersey",regex:/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan",regex:/^\d{5}$/},{code:"JP",name:"Japan",regex:/^\d{3}-\d{4}$/},{code:"KE",name:"Kenya",regex:/^\d{5}$/},{code:"KG",name:"Kyrgyzstan",regex:/^\d{6}$/},{code:"KH",name:"Cambodia",regex:/^\d{5}$/},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of",regex:/^\d{5}$/},{code:"KW",name:"Kuwait",regex:/^\d{5}$/},{code:"KY",name:"Cayman Islands",regex:/^KY[123]-\d{4}$/},{code:"KZ",name:"Kazakhstan",regex:/^\d{6}$/},{code:"LA",name:"Lao People's Democratic Republic",regex:/^\d{5}$/},{code:"LB",name:"Lebanon",regex:/^(\d{4}([ ]?\d{4})?)?$/},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein",regex:/^(948[5-9])|(949[0-7])$/},{code:"LK",name:"Sri Lanka",regex:/^\d{5}$/},{code:"LR",name:"Liberia",regex:/^\d{4}$/},{code:"LS",name:"Lesotho",regex:/^\d{3}$/},{code:"LT",name:"Lithuania",regex:/^(LT-)?\d{5}$/},{code:"LU",name:"Luxembourg",regex:/^(L-)?\d{4}$/},{code:"LV",name:"Latvia",regex:/^(LV-)?\d{4}$/},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco",regex:/^\d{5}$/},{code:"MC",name:"Monaco",regex:/^980\d{2}$/},{code:"MD",name:"Moldova, Republic of",regex:/^\d{4}$/},{code:"ME",name:"Montenegro",regex:/^8\d{4}$/},{code:"MF",name:"Saint Martin (French part)"},{code:"MG",name:"Madagascar",regex:/^\d{3}$/},{code:"MH",name:"Marshall Islands",regex:/^969[67]\d([ \-]\d{4})?$/},{code:"MK",name:"North Macedonia",regex:/^\d{4}$/},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia",regex:/^\d{6}$/},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands",regex:/^9695[012]([ \-]\d{4})?$/},{code:"MQ",name:"Martinique",regex:/^9[78]2\d{2}$/},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta",regex:/^[A-Z]{3}[ ]?\d{2,4}$/},{code:"MU",name:"Mauritius",regex:/^((\d|[A-Z])\d{4})?$/},{code:"MV",name:"Maldives",regex:/^\d{5}$/},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico",regex:/^\d{5}$/},{code:"MY",name:"Malaysia",regex:/^\d{5}$/},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia",regex:/^988\d{2}$/},{code:"NE",name:"Niger",regex:/^\d{4}$/},{code:"NF",name:"Norfolk Island",regex:/^2899$/},{code:"NG",name:"Nigeria",regex:/^(\d{6})?$/},{code:"NI",name:"Nicaragua",regex:/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/},{code:"NL",name:"Netherlands, Kingdom of the",regex:/^\d{4}[ ]?[A-Z]{2}$/},{code:"NO",name:"Norway",regex:/^\d{4}$/},{code:"NP",name:"Nepal",regex:/^\d{5}$/},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand",regex:/^\d{4}$/},{code:"OM",name:"Oman",regex:/^(PC )?\d{3}$/},{code:"PA",name:"Panama",regex:/^\d{4}$/},{code:"PE",name:"Peru",regex:/^\d{5}$/},{code:"PF",name:"French Polynesia",regex:/^987\d{2}$/},{code:"PG",name:"Papua New Guinea",regex:/^\d{3}$/},{code:"PH",name:"Philippines",regex:/^\d{4}$/},{code:"PK",name:"Pakistan",regex:/^\d{5}$/},{code:"PL",name:"Poland",regex:/^\d{2}-\d{3}$/},{code:"PM",name:"Saint Pierre and Miquelon",regex:/^9[78]5\d{2}$/},{code:"PN",name:"Pitcairn",regex:/^PCRN 1ZZ$/},{code:"PR",name:"Puerto Rico",regex:/^00[679]\d{2}([ \-]\d{4})?$/},{code:"PS",name:"Palestine, State of"},{code:"PT",name:"Portugal",regex:/^\d{4}([\-]\d{3})?$/},{code:"PW",name:"Palau",regex:/^96940$/},{code:"PY",name:"Paraguay",regex:/^\d{4}$/},{code:"QA",name:"Qatar"},{code:"RE",name:"Réunion",regex:/^9[78]4\d{2}$/},{code:"RO",name:"Romania",regex:/^\d{6}$/},{code:"RS",name:"Serbia",regex:/^\d{5,6}$/},{code:"RU",name:"Russian Federation",regex:/^\d{6}$/},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia",regex:/^\d{5}$/},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden",regex:/^(SE-)?\d{3}[ ]?\d{2}$/},{code:"SG",name:"Singapore",regex:/^\d{6}$/},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha",regex:/^(ASCN|STHL) 1ZZ$/},{code:"SI",name:"Slovenia",regex:/^(SI-)?\d{4}$/},{code:"SJ",name:"Svalbard and Jan Mayen",regex:/^\d{4}$/},{code:"SK",name:"Slovakia",regex:/^\d{3}[ ]?\d{2}$/},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino",regex:/^4789\d$/},{code:"SN",name:"Senegal",regex:/^\d{5}$/},{code:"SO",name:"Somalia",regex:/^\d{5}$/},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten (Dutch part)"},{code:"SY",name:"Syrian Arab Republic"},{code:"SZ",name:"Eswatini",regex:/^[HLMS]\d{3}$/},{code:"TC",name:"Turks and Caicos Islands",regex:/^TKCA 1ZZ$/},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand",regex:/^\d{5}$/},{code:"TJ",name:"Tajikistan",regex:/^\d{6}$/},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan",regex:/^\d{6}$/},{code:"TN",name:"Tunisia",regex:/^\d{4}$/},{code:"TO",name:"Tonga"},{code:"TR",name:"Türkiye",regex:/^\d{5}$/},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan, Province of China",regex:/^\d{3}(\d{2,3})?$/},{code:"TZ",name:"Tanzania, United Republic of"},{code:"UA",name:"Ukraine",regex:/^\d{5}$/},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States of America",regex:/^([0-9]{5})(?:-([0-9]{4}))?$/},{code:"UY",name:"Uruguay",regex:/^\d{5}$/},{code:"UZ",name:"Uzbekistan",regex:/^\d{6}$/},{code:"VA",name:"Holy See",regex:/^00120$/},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela, Bolivarian Republic of",regex:/^\d{4}$/},{code:"VG",name:"Virgin Islands (British)"},{code:"VI",name:"Virgin Islands (U.S.)",regex:/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/},{code:"VN",name:"Viet Nam",regex:/^\d{6}$/},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna",regex:/^986\d{2}$/},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte",regex:/^976\d{2}$/},{code:"ZA",name:"South Africa",regex:/^\d{4}$/},{code:"ZM",name:"Zambia",regex:/^\d{5}$/},{code:"ZW",name:"Zimbabwe"}],Ue=new Map(Vo.map(o=>[o.code,o])),Do=[o=>/^[a-z0-9]/i.test(o)?!1:"Must contain at least one character"],ke=[o=>/^[a-z][a-z ,.'-]*$/i.test(o)?!1:"Must contain at least one character and no special characters or numbers"],Oo=o=>[e=>{var s;const t=o.get();if(!t)return"Please, select a country first";const n=(s=Ue.get(t))==null?void 0:s.regex;return n?n.test(e)?!1:"Please, use a correct postal code format":Fo.test(e)?!1:"Please, use a correct postal code format (default NNNNNN)"}],{pfunc:_e}=f,{h2:Ho,span:Go,div:Uo}=p,{inputText:ne,selectInput:Zo,validated:Z,labelled:q}=T,qo=Uo.cls("form-block"),ve=o=>{const[e,t,n]=Z(ne(),ke),[s,a,r]=Z(Zo([...Ue.entries()].map(([z,J])=>[z,J.name])),ke),[i,d,u]=Z(ne(),Oo(r));r.onChange(()=>{i.getNode().value="",d.disable(),u.set("")});const[x,w,P]=Z(ne(),Do),A=_e(()=>t.get()&&a.get()&&d.get()&&w.get()),W=_e(()=>({city:n.get(),country:r.get(),postalCode:u.get(),streetName:P.get()}));return[qo(Ho(Go(),o),q("Town / City *",e,g("city"),{required:!0}),q("Country *",s,g("country"),{required:!0}),q("Postal Code *",i,g("postal-code"),{required:!0}),q("Street *",x,g("street"),{required:!0})),A,W]},{pboolean:Ko,functional:Wo}=f,{link:zo,form:Jo,div:Ze,h3:Yo,p:jo,hidden:Qo}=p,{submitButton:Xo,checkboxInput:es,labelled:ts}=T,ns=Ze.cls("form-block"),os=new M(()=>{const o=Ko(!1,"same_shipping_address"),e=es().cls("checkbox-password").onInput(w=>o.set(w.target.checked)),[t,n,s]=Bo("Main Information"),[a,r,i]=ve("Billing Address"),[d,u,x]=ve("Shipping Address");return To("Create an account")(Jo(t,a,ns(Yo("Shipping Address"),jo("Select the address that matches your payment method"),ts("Same as billing address",e,"same-shipping-address",{name:"shipping address is the same as the billing address",reverseOrder:!0}).cls("checkbox-container")),Wo(()=>o.get()?Qo():d),Xo("Submit")).cls("signup-page").onSubmit(()=>{l("Attempting to sign up."),n.get()&&r.get()&&(u.get()||o.get())?H.attemptSignUp({user:s.get(),sameShippingAddress:o.get(),billingAddress:i.get(),shippingAddress:x.get()}).then(w=>{w&&h.navigateTo("/")}):l("Attempt failed, form is not valid.")}),Ze("Already have an account? ",zo("/login","Log in").cls("link-subtext")).cls("subtext"))},"Sign Up | True Colors"),ss=()=>{D("Loading the application"),D("Initializing router"),h.getRouter(new R("/",ye),new R("/main",ye),new R("/login/signup",os),new R("/login",mo),new Qe(Co)),h.getRouter().initNavigation()};ss();
